(function(t){function e(e){for(var n,o,c=e[0],a=e[1],l=e[2],m=0,h=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,c=1;c<i.length;c++){var a=i[c];0!==s[a]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-demonstration/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=a;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0f5d":function(t,e,i){},"12ff":function(t,e,i){"use strict";i("fbfc")},1843:function(t,e,i){"use strict";i("d66a")},"253a":function(t,e,i){"use strict";i("0f5d")},"2a48":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main container",attrs:{id:"app"}},[i("left-field"),i("right-field")],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field"},t._l(t.listArray,(function(t){return i("left-list",{key:t,staticClass:"field__list",attrs:{list:t}})})),1)},c=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"list-flex"},[i("div",{staticClass:"arrow",class:t.unwrapped?"arrow-down":"arrow-right",on:{click:t.wrap}}),i("div",{class:t.isPartly?"checkbox":""},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:t.list},domProps:{value:t.list,checked:Array.isArray(t.checked)?t._i(t.checked,t.list)>-1:t.checked},on:{change:function(e){var i=t.checked,n=e.target,s=!!n.checked;if(Array.isArray(i)){var r=t.list,o=t._i(i,r);n.checked?o<0&&(t.checked=i.concat([r])):o>-1&&(t.checked=i.slice(0,o).concat(i.slice(o+1)))}else t.checked=s}}}),i("label",{attrs:{for:t.list}},[t._v(" "+t._s(t.list)+" ")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.unwrapped,expression:"unwrapped"}],staticClass:"items"},t._l(t.itemsLabelArray,(function(e){return i("left-items",{key:e,attrs:{item:e,parent:t.list,checked:t.checked},on:{itemIsChecked:t.itemChecked}})})),1)])},l=[],u=i("2909"),m=(i("d81d"),i("cb29"),i("4de4"),i("caad"),i("2532"),i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-flex"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",id:t.parent+t.item},domProps:{value:t.parent+" "+t.item,checked:Array.isArray(t.isChecked)?t._i(t.isChecked,t.parent+" "+t.item)>-1:t.isChecked},on:{change:[function(e){var i=t.isChecked,n=e.target,s=!!n.checked;if(Array.isArray(i)){var r=t.parent+" "+t.item,o=t._i(i,r);n.checked?o<0&&(t.isChecked=i.concat([r])):o>-1&&(t.isChecked=i.slice(0,o).concat(i.slice(o+1)))}else t.isChecked=s},t.hasChosen]}}),i("label",{attrs:{for:t.parent+t.item}},[t._v(" "+t._s(t.item)+" ")]),i("input",{staticClass:"item-flex__item-amount",attrs:{type:"text",size:"2"},domProps:{value:t.amount||t.itemAmount},on:{change:function(e){return t.setAmount(e)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemColor,expression:"itemColor"}],staticClass:"item-flex__item-color",attrs:{type:"color"},domProps:{value:t.itemColor},on:{change:t.setColor,input:function(e){e.target.composing||(t.itemColor=e.target.value)}}})])}),h=[],d=(i("d3b7"),i("25f0"),i("b0c0"),{name:"LeftItems",props:["item","parent","checked"],data:function(){return{itemAmount:Math.floor(51*Math.random()),itemColor:"#".concat((16777216+16777215*Math.random()).toString(16).substring(1,7)),isChecked:[]}},computed:{amount:function(){var t,e,i=this;return null===(t=this.$store.state)||void 0===t||null===(e=t.stateOfAllItems.filter((function(t){return t.name===i.isChecked[0]}))[0])||void 0===e?void 0:e.amount},isDeletedFromMixed:function(){return this.$store.state.isDeletedFromMixed}},methods:{hasChosen:function(){if(this.$store.commit("DELETE_ITEM","".concat(this.parent," ").concat(this.item)),this.$store.commit("SET_CURRENT_LIST",this.parent),this.isDeletedFromMixed&&this.$store.commit("SET_IS_DELETED_FROM_MIXED",!1),this.isChecked[0])return this.$emit("itemIsChecked",this.item,!0),this.$store.commit("SET_CURRENT_ITEMS",{name:"".concat(this.parent," ").concat(this.item),amount:this.itemAmount,color:this.itemColor});this.$emit("itemIsChecked",this.item,!1)},setAmount:function(t){this.isDeletedFromMixed&&this.$store.commit("SET_IS_DELETED_FROM_MIXED",!1),this.itemAmount=+t.target.value>0?+t.target.value:0,this.isChecked[0]&&(this.$store.commit("SET_CURRENT_LIST",this.parent),this.$store.commit("CHANGE_AMOUNT",{name:"".concat(this.parent," ").concat(this.item),amount:this.itemAmount,color:this.itemColor}))},setColor:function(){this.isChecked[0]&&(this.$store.commit("SET_CURRENT_LIST",this.parent),this.$store.commit("CHANGE_COLOR",{name:"".concat(this.parent," ").concat(this.item),color:this.itemColor}))}},watch:{amount:function(t){t>=0&&(this.itemAmount=t)},checked:function(t){this.isChecked=t[0]?["".concat(this.parent," ").concat(this.item)]:[],this.hasChosen()}}}),f=d,p=(i("253a"),i("2877")),_=Object(p["a"])(f,m,h,!1,null,"0c0be4b5",null),v=_.exports,k={name:"LeftList",components:{LeftItems:v},props:["list"],data:function(){return{checked:[],unwrapped:!1,itemsLabelArray:new Array(Math.floor(6*Math.random()+4)).fill("Item ").map((function(t,e){return t+(e+1)})),checkedItems:[],isPartly:!1}},methods:{wrap:function(){this.unwrapped=!this.unwrapped},itemChecked:function(t,e){this.checkedItems=e?this.checkedItems.includes(t)?this.checkedItems:[].concat(Object(u["a"])(this.checkedItems),[t]):this.checkedItems.filter((function(e){return e!==t}))}},watch:{checkedItems:function(){this.checkedItems.length===this.itemsLabelArray.length?(this.isPartly=!1,this.checked=[this.list]):!this.checkedItems.length&&this.checked[0]?(this.isPartly=!1,this.checked=[]):this.checkedItems.length>0?this.isPartly=!0:this.isPartly=!1}}},C=k,x=(i("6824"),Object(p["a"])(C,a,l,!1,null,"70c5b7f2",null)),E=x.exports,I={name:"LeftField",components:{LeftList:E},data:function(){return{listArray:this.$store.state.listArray}}},b=I,A=(i("ee94"),Object(p["a"])(b,o,c,!1,null,null,null)),y=A.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field"},t._l(t.listArray,(function(t){return i("right-list",{key:t,attrs:{list:t}})})),1)},g=[],M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-list"},[i("div",{staticClass:"right-list__title-button"},[i("span",[t._v(t._s(t.list))]),t.items.filter((function(t){return t.amount>0})).length>1?i("div",[t.isMixed?i("button",{on:{click:t.sortItems}},[t._v("Сортировать")]):i("button",{on:{click:t.mixItems}},[t._v("Перемешать")])]):t._e()]),t.isMixed?i("div",{attrs:{id:"mixed-items"}},[i("transition-group",{staticClass:"item-flex",attrs:{name:"list",tag:"ul"}},t._l(t.mixedState,(function(e){return i("li",{key:e.id,style:{width:"20px",height:"20px",background:e.color,margin:"1px"},on:{click:function(i){return t.reduceAmount(e)}}})})),0)],1):i("right-items",{attrs:{items:t.items}})],1)},T=[],w=i("5530"),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.items,(function(e){return i("transition-group",{key:e.name,staticClass:"item-flex",attrs:{name:"list",tag:"ul"}},t._l(e.amount,(function(n){return i("li",{key:n,style:{width:"20px",height:"20px",background:e.color,margin:"1px"},on:{click:function(i){return t.reduceAmount(e)}}})})),0)})),1)},L=[],$={name:"RightItems",props:["items"],methods:{reduceAmount:function(t){this.$store.commit("SET_CURRENT_LIST",this.list),this.$store.commit("REDUCE_AMOUNT",{name:t.name,amount:t.amount-1,color:t.color})}}},R=$,D=(i("12ff"),Object(p["a"])(R,S,L,!1,null,null,null)),j=D.exports,N={name:"RightList",components:{RightItems:j},props:["list"],data:function(){return{isMixed:!1,mixedState:null}},computed:{items:function(){var t=this;return this.$store.state.stateOfAllItems.filter((function(e){return e.name.includes(t.list)})).sort((function(t,e){return t.name.localeCompare(e.name)}))},currentList:function(){return this.$store.state.currentList},isDeletedFromMixed:function(){return this.$store.state.isDeletedFromMixed},newColorInMixed:function(){return this.$store.state.newColorInMixed}},methods:{mixItems:function(){this.isMixed=!0,this.mixedState=this.items.reduce((function(t,e){var i=new Array(e.amount).fill(null).map((function(t,i){return{name:e.name,id:"".concat(e.name).concat(i+1),color:e.color}}));return[].concat(Object(u["a"])(t),Object(u["a"])(i))}),[]).sort((function(){return Math.random()-.5}))},sortItems:function(){this.isMixed=!1},reduceAmount:function(t){this.$store.commit("SET_CURRENT_LIST",this.list),this.isDeletedFromMixed||this.$store.commit("SET_IS_DELETED_FROM_MIXED",!0);var e=this.mixedState.filter((function(e){return e.name===t.name})).length-1;this.$store.commit("REDUCE_AMOUNT",{name:t.name,amount:e,color:t.color}),this.mixedState=this.mixedState.filter((function(e){return e.id!==t.id}))}},watch:{newColorInMixed:function(){var t,e=this;this.isDeletedFromMixed||this.$store.commit("SET_IS_DELETED_FROM_MIXED",!0),this.mixedState=null===(t=this.mixedState)||void 0===t?void 0:t.map((function(t){return t.name===e.newColorInMixed.name?Object(w["a"])(Object(w["a"])({},t),{},{color:e.newColorInMixed.color}):t}))},items:function(){this.currentList===this.list&&this.isMixed&&!this.isDeletedFromMixed&&this.mixItems()}}},F=N,P=(i("1843"),Object(p["a"])(F,M,T,!1,null,"eb91c154",null)),U=P.exports,X={name:"RightField",components:{RightList:U},data:function(){return{listArray:this.$store.state.listArray}}},G=X,H=Object(p["a"])(G,O,g,!1,null,null,null),J=H.exports,z={name:"App",components:{RightField:J,LeftField:y},data:function(){return{}}},q=z,B=(i("5c0b"),Object(p["a"])(q,s,r,!1,null,null,null)),K=B.exports,Q=i("2f62");n["a"].use(Q["a"]);var V=new Q["a"].Store({state:{listArray:new Array(5).fill("List ").map((function(t,e){return t+(e+1)})),stateOfAllItems:[],currentList:"",isDeletedFromMixed:!1,newColorInMixed:null},mutations:{SET_CURRENT_ITEMS:function(t,e){t.stateOfAllItems=[].concat(Object(u["a"])(t.stateOfAllItems),[e]),console.log(t.stateOfAllItems)},DELETE_ITEM:function(t,e){t.stateOfAllItems=t.stateOfAllItems.filter((function(t){return t.name!==e}))},CHANGE_AMOUNT:function(t,e){t.stateOfAllItems=[].concat(Object(u["a"])(t.stateOfAllItems.filter((function(t){return t.name!==e.name}))),[e])},CHANGE_COLOR:function(t,e){t.stateOfAllItems=t.stateOfAllItems.map((function(t){return t.name===e.name?Object(w["a"])(Object(w["a"])({},t),{},{color:e.color}):t})),t.newColorInMixed=e},SET_CURRENT_LIST:function(t,e){t.currentList=e},REDUCE_AMOUNT:function(t,e){t.stateOfAllItems=[].concat(Object(u["a"])(t.stateOfAllItems.filter((function(t){return t.name!==e.name}))),[e])},SET_IS_DELETED_FROM_MIXED:function(t,e){t.isDeletedFromMixed=e}},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:V,render:function(t){return t(K)}}).$mount("#app")},5939:function(t,e,i){},"5c0b":function(t,e,i){"use strict";i("9c0c")},6824:function(t,e,i){"use strict";i("2a48")},"9c0c":function(t,e,i){},d66a:function(t,e,i){},ee94:function(t,e,i){"use strict";i("5939")},fbfc:function(t,e,i){}});
//# sourceMappingURL=app.1dec4497.js.map